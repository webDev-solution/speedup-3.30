/*
Generated time: October 16, 2023 12:43
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
function assign(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)e[i]=n[i]}return e}var defaultConverter={read:function(e){return(e='"'===e[0]?e.slice(1,-1):e).replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init(s,o){function i(e,t,i){if("undefined"!=typeof document){"number"==typeof(i=assign({},o,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n,r="";for(n in i)i[n]&&(r+="; "+n,!0!==i[n])&&(r+="="+i[n].split(";")[0]);return document.cookie=e+"="+s.write(t,e)+r}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],i={},n=0;n<t.length;n++){var r=t[n].split("="),o=r.slice(1).join("=");try{var a=decodeURIComponent(r[0]);if(i[a]=s.read(o,a),e===a)break}catch(e){}}return e?i[e]:i}},remove:function(e,t){i(e,"",assign({},t,{expires:-1}))},withAttributes:function(e){return init(this.converter,assign({},this.attributes,e))},withConverter:function(e){return init(assign({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(s)}})}var api=init(defaultConverter,{path:"/"});window.ThemeSection_AgeCheck=e=>({authenticated:!1,mode:e.mode,date_format:e.date_format,minimum_age:e.minimum_age,redirect_url:e.redirect_url,month:"",day:"",year:"",date:"",cookie:api.get("ageGateAuthenticated"),isSelected:!1,get fullDate(){return`${this.month}/${this.day}/`+this.year},mounted(){initTeleport(this.$root),Alpine.store("modals").register("ageCheck","modal"),"true"!==this.cookie&&Alpine.store("modals").open("ageCheck"),null===this.redirect_url&&(this.redirect_url="https://www.google.com"),"dob"===this.mode&&(this.date=new Date,setTimeout(()=>this.setUpDOB(),100)),document.addEventListener("shopify:section:select",e=>{e.target.querySelector('[data-section="age-check"]')&&this.showSectionInThemeEditor()}),Shopify.designMode&&this.isSelected&&this.showSectionInThemeEditor()},showSectionInThemeEditor(){this.isSelected=!0,Alpine.store("modals").open("ageCheck")},approveEntry(){Alpine.store("modals").close("ageCheck"),this.isSelected?api.remove("ageGateAuthenticated"):api.set("ageGateAuthenticated","true",{expires:30})},denyEntry(){window.location=this.redirect_url},checkInput(e){switch(e){case"day":return 0<parseInt(this.day)&&parseInt(this.day)<32;case"month":return 0<parseInt(this.month)&&parseInt(this.month)<13;case"year":return parseInt(this.year)<this.date.getFullYear()&&1900<parseInt(this.year)}return!0},checkAge(){var e=Math.round(this.date.getTime()/1e3),t=Math.round(new Date(""+this.fullDate).getTime()/1e3);Math.floor((e-t)/31536e3)>parseInt(this.minimum_age,10)?this.approveEntry():this.denyEntry()},setUpDOB(){document.getElementById("dob-form").addEventListener("input",t=>{var t=t.srcElement||t.target,e=parseInt(t.attributes.maxlength.value,10),i=t.value.length;if(e<=i){if(!this.checkInput(t.getAttribute("name")))return t.value="",!1;let e=t.closest(".input-grid-item");for(;(e=e.nextElementSibling)&&null!=e;){var n=e.querySelector("input");if(null!==n){n.focus();break}}}else if(0===i){let e=t.closest(".input-grid-item");for(;(e=e.previousElementSibling)&&null!=e;){var r=e.querySelector("input");if(null!==r){r.focus();break}}}this.checkInput("day")&&this.checkInput("month")&&this.checkInput("year")&&setTimeout(()=>this.checkAge(),500)})}});