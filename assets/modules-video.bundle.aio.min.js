/*
Generated time: October 16, 2023 12:43
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
import{L as LibraryLoader}from"./shared-import-index.bundle.js";window.ThemeModule_Video=(e,t,i,a)=>({enabled:!1,shown:!1,id:e,type:t,host:i,youtubeReady:!1,productMediaWrapper:null,ytPlayer:null,vimeoPlayer:null,autoPlayOnDesktop:a,playing:!1,init(){this.$watch("enabled",e=>{this.$nextTick(()=>{this.shown=e})}),document.addEventListener("touchstart",function(){window.setTouch()}),document.body.addEventListener("pauseAllMedia",e=>{(null===e.detail||e.detail.id!==this.id)&&this.pause()}),"youtube"===this.host&&(document.body.addEventListener("youtubeiframeapiready",()=>{this.youtubeReady=!0}),LibraryLoader.load("youtubeSdk")),"vimeo"===this.host&&LibraryLoader.load("vimeoSdk"),this.productMediaWrapper=this.$root.closest("[data-product-single-media-wrapper]"),null!==this.productMediaWrapper&&this.setUpProductMediaListeners()},enableVideo(){this.enabled=!0;let t=this.$root;this.$nextTick(()=>{var e;"video"===this.type?t.querySelector(".video").onplay=()=>{this.playing=!0,this.dispatchPauseEvent()}:("youtube"===this.host&&(e=t.querySelector(".js-youtube"),this.ytPlayer=new YT.Player(e,{events:{onStateChange:function(e){1===e.data&&(this.playing=!0,this.dispatchPauseEvent())}.bind(this)}})),"vimeo"===this.host&&(e=t.querySelector(".js-vimeo"),this.vmPlayer=new Vimeo.Player(e),Alpine.raw(this.vmPlayer).on("play",()=>{this.playing=!0,this.dispatchPauseEvent()})))})},dispatchPauseEvent(){document.body.dispatchEvent(new CustomEvent("pauseAllMedia",{detail:{id:this.id}}))},pause(){if(!this.enabled)return!1;if("video"===this.type)this.$root.querySelector("video").pause();else switch(this.host){case"youtube":this.ytPlayer.pauseVideo();break;case"vimeo":Alpine.raw(this.vmPlayer).pause()}this.playing=!1},play(){if(!this.enabled)return!1;if("video"===this.type)this.$root.querySelector("video").play();else switch(this.host){case"youtube":this.ytPlayer.playVideo();break;case"vimeo":Alpine.raw(this.vmPlayer).play()}this.playing=!0,this.dispatchPauseEvent()},setUpProductMediaListeners(){this.productMediaWrapper.addEventListener("mediaHidden",()=>{this.pause()}),this.productMediaWrapper.addEventListener("xrLaunch",()=>{this.pause()}),this.productMediaWrapper.addEventListener("mediaVisible",()=>{window.isTouch()||(!this.enabled&&this.autoPlayOnDesktop?this.enableVideo():this.play())})}});